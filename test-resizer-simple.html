<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åˆ†éš”æ¡æµ‹è¯•</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: Arial, sans-serif;
            height: 100vh;
            display: flex;
        }
        .editor {
            flex: 1;
            background: #f5f5f5;
            padding: 20px;
            min-width: 200px;
        }
        .resizer {
            width: 6px;
            background: #E8E8E8;
            cursor: col-resize;
            flex-shrink: 0;
            border-left: 1px solid #D9D9D9;
            border-right: 1px solid #D9D9D9;
            position: relative;
            z-index: 1000;
            transition: background 0.2s;
        }
        .resizer:hover,
        .resizer:active {
            background: #1677FF;
        }
        .resizer.resizing {
            background: #1677FF;
        }
        .preview {
            width: 384px;
            background: white;
            border-left: 1px solid #D9D9D9;
            padding: 20px;
            flex-shrink: 0;
        }
        body.resizing {
            cursor: col-resize;
            user-select: none;
        }
        .log {
            position: fixed;
            bottom: 10px;
            left: 10px;
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 10px;
            border-radius: 4px;
            font-size: 12px;
            max-width: 300px;
            max-height: 200px;
            overflow-y: auto;
        }
    </style>
</head>
<body>
    <div class="editor">
        <h2>ç¼–è¾‘åŒº</h2>
        <p>æ‹–æ‹½ä¸­é—´çš„åˆ†éš”æ¡æ¥è°ƒæ•´å®½åº¦</p>
    </div>
    <div class="resizer" id="resizer"></div>
    <div class="preview" id="preview">
        <h2>é¢„è§ˆåŒº</h2>
        <p id="width-display">å®½åº¦: 384px</p>
    </div>
    <div class="log" id="log"></div>

    <script>
        const resizer = document.getElementById('resizer');
        const preview = document.getElementById('preview');
        const widthDisplay = document.getElementById('width-display');
        const log = document.getElementById('log');

        function addLog(msg) {
            log.innerHTML += msg + '<br>';
            log.scrollTop = log.scrollHeight;
        }

        addLog('=== æµ‹è¯•å¼€å§‹ ===');

        let isResizing = false;
        let startX = 0;
        let startWidth = 0;

        // æµ‹è¯•1: ç‚¹å‡»
        resizer.addEventListener('click', () => {
            addLog('âœ… ç‚¹å‡»äº‹ä»¶è§¦å‘');
        });

        // æµ‹è¯•2: mousedown
        resizer.addEventListener('mousedown', (e) => {
            addLog('ğŸ–±ï¸ mousedown: ' + e.clientX);
            isResizing = true;
            startX = e.clientX;
            startWidth = preview.offsetWidth;
            resizer.classList.add('resizing');
            document.body.classList.add('resizing');
            e.preventDefault();
        });

        // æµ‹è¯•3: mousemove
        document.addEventListener('mousemove', (e) => {
            if (!isResizing) return;
            const deltaX = startX - e.clientX;
            const newWidth = startWidth + deltaX;
            const minWidth = 250;
            const maxWidth = window.innerWidth - 250;
            const finalWidth = Math.max(minWidth, Math.min(maxWidth, newWidth));
            preview.style.width = finalWidth + 'px';
            widthDisplay.textContent = 'å®½åº¦: ' + finalWidth + 'px';
        });

        // æµ‹è¯•4: mouseup
        document.addEventListener('mouseup', () => {
            if (isResizing) {
                addLog('âœ… æ‹–æ‹½ç»“æŸ');
                isResizing = false;
                resizer.classList.remove('resizing');
                document.body.classList.remove('resizing');
            }
        });

        addLog('âœ… äº‹ä»¶ç›‘å¬å™¨å·²ç»‘å®š');
        addLog('è¯·å°è¯•æ‹–æ‹½ä¸­é—´çš„åˆ†éš”æ¡');
    </script>
</body>
</html>
